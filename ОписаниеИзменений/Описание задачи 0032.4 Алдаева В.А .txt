База МТО

Общие макеты
игсСоответствиеОбъектовERP_БСО - новый макет, содержит соответствие имён документов в базе МТО и БСО

Общие формы ИГС_ВебСервисЖарналПроводокУСО.Модуль
Функция ТипыНазначения()
Добавлена проверка на дату перехода на БСО, если дата документа попадает в период перехода на БСО, получаем новый общий макет

Функция ПолучитьДанные()
Добавлена проверка на дату перехода на БСО, если дата документа попадает в период перехода на БСО, обращаемся в базу БСО

Процедура ПопытатьсяПолучитьДанные()
При ошибках получения данных выводится сообщение об ошибке

Процедура игсВыполнитьОбменСУСО() - новая серверная процедура, содержит вызов функции ВыполнитьОбменСУСО(), которая была перемещена с клиентской процедуры ПопытатьсяПолучитьДанные()

Функция игсТабДокБезЗаписей() - новая функция, проверяет наличие записей в табличном документе

Общий модуль игс_ФоновыеЗаданияПривилегированный
Функция ВыполнитьОбменСУСО() 
Добавлен новый параметр Документ, если дата документв попадает на время перехода на БСО, вызывается сценарий для обмена с БСО

Константы игсСценарийОбменаСБСО - новая константа с  типом СправочникСсылка.СценарииОбменовДанными, в предприятии требуется выбрать сценарий обмена с БСО


База БСО

Планы видов характеристик
игсНастройкиМеханизмов 
 Новые предопределенные характеристики:
 ПроводкиПечатнаяФорма с типом данных СправочникСсылка.ДополнительныеОтчетыИОбработки
 СценарийОбменаСМТО с типом данных СправочникСсылка.СценарииОбменовДанными

XDTO-пакеты
игсЗапросОстатков - добавлен тип объектов Document со свойствами GUID(тип string (http://www.w3.org/2001/XMLSchema)), MetadataName(тип string (http://www.w3.org/2001/XMLSchema))
добавлен тип объектов Journal со свойствами Ready(тип boolean (http://www.w3.org/2001/XMLSchema)), Form(тип base64Binary (http://www.w3.org/2001/XMLSchema))

Web-сервисы
igsBSO TransactionJournal - новая операция с параметром Document с типом Journal (http://127.0.0.1)

Общие модули
игсБухгалтерскийУчетВызовСервера
Процедура ВыполнитьОбменСERPФоновый() - новая процедура, выполняет фоново обмен с ERP по заданному сценарию

Функция ВыполнитьОбменСERP() - новая функция для выполнения обмена с ERP 


Требуемые действия в предприятии:
 В Дополнительные отчеты и обработки добавить новую обработку "ПечатнаяФорма", затем в регистре сведений Настройки механизмов для настройки Таблица проводок для документа в значении выбрать нашу печатную форму. 
 Если ранее не был установлен сценарий синхронизации для плана обмена МТО, создать его через настройки синхронизации или в справочнике Сценарии синхронизации данных создать новый сценарий, в колонке Информационная база выбираем ранее созданный план обмена, в колонке Транспорт выбираем локальный или сетевой каталог, в колонке Выполняемое действие выбираем Получение данных, копируем строку и во второй строке в колонке Выполняемое действие выбираем Отправка данных. После соханения переходим в настройку механизмов и для настройки Сценарий обмена с МТО выбираем в значении наш созданный сценарий.